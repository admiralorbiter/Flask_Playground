{% extends "base.html" %}

{% block title %}Admin Dashboard{% endblock %}

{% block content %}
    <h1>Admin Dashboard</h1>
    <h2>Admin Tools</h2>
    <a href="{{ url_for('admin_link_users') }}">Link Users (Old)</a>
    <a href="{{ url_for('create_user') }}">Create Users</a>
    <table class="table">
        <thead>
            <tr>
                <th scope="col">Username</th>
                <th scope="col">Role</th>
                <th scope="col">User Profile</th>
                <th scope="col">Email</th>
                <th scope="col">Name</th>
                <th scope="col">Project List</th>
            </tr>
        </thead>
        <tbody> 
            {% for user in users %}
            <tr>
                <td>{{ user.username }}</td>
                <td>{{ user.role.name }}</td>
                <td><a href="{{ url_for('user_detail', id=user.id) }}">Link</a></td>
                <td>{{ user.email }}</td>
                <td>
                    {{user.student.first_name}} {{user.student.last_name}}
                </td>
                <td>
                    <ul>
                        {% for project in user.student.projects %}
                        <li>{{ project.name }}</li>
                        {% endfor %}
                    </ul>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}